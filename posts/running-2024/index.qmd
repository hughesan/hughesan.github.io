---
title: "Running in 2024"
author: "Alex Hughes"
date: "2025-1-19"
date-modified: "2025-1-19"
categories: [running, analysis]
draft: true
---

```{r echo=FALSE, message=FALSE}
library(dplyr)
library(ggplot2)
```

```{r message=FALSE}
gdata <- readr::read_csv("C:/Users/Alex/Documents/R-2025/garmin_2023_2024/runs_2023_2024.csv")
```

```{r}
df <- gdata %>%
  select(Title, Date, Distance, `Avg Pace`, `Avg HR`, `Max HR`, `Avg Power`, `Avg Run Cadence`, `Avg Ground Contact Time`, `Avg Stride Length`) %>%
  mutate(pace_sec = substr(`Avg Pace`, nchar(`Avg Pace`) - 1, nchar(`Avg Pace`)))  %>%
  mutate(pace_min = sub("\\:.*", "", `Avg Pace`)) %>%
  mutate(avg_pace_s = as.numeric(pace_min)*60 + as.numeric(pace_sec),
         Date = lubridate::date(Date)) %>%
  filter(Date > as.Date("2023-12-31") & Date < as.Date("2025-01-01")) %>%
  rename(avg_HR = `Avg HR`,
         max_HR = `Max HR`,
         cadence = `Avg Run Cadence`,
         gct = `Avg Ground Contact Time`,
         stride_len = `Avg Stride Length`,
         power = `Avg Power`) %>%
  mutate(Race = ifelse(Title == "Run! Geek! Run! 5k" | Title == "Richmond Marathon" | Title == "Army Ten Miler" | Title == "Eugene - Eugene Marathon (Euene Marathon)" | (Title == "Washington Running" & Date == "2024-04-07") | Title == "Rock n Roll Half" | Title == "Washington - FITDC Fresh Start 5k", 1, 0)) %>%
  select(-pace_sec, -pace_min)
                        
```

# EDA

```{r}
ggplot(df, aes(x = Date, y = gct, color = factor(Race))) +
  geom_point() +
  scale_y_discrete(breaks = seq(195, 275, by = 5)) +
  labs(y = "Average ground contact time (GCT)")
```

